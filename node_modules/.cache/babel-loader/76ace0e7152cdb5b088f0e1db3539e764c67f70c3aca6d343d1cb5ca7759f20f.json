{"ast":null,"code":"import products from '../data/products.json';\nimport categories from '../data/categories.json';\n\n// Get all products\nexport function getAllProducts() {\n  return products;\n}\n\n// Get product by ID\nexport function getProductById(id) {\n  return products.find(product => product.id === id);\n}\n\n// Get products by category\nexport function getProductsByCategory(categoryId) {\n  if (!categoryId || categoryId === 'all') {\n    return products;\n  }\n  return products.filter(product => product.category === categoryId || product.subcategory === categoryId);\n}\n\n// Search products\nexport function searchProducts(query, options = {}) {\n  const {\n    category = 'all',\n    minPrice,\n    maxPrice,\n    minRating,\n    prime,\n    sortBy = 'relevance',\n    limit,\n    offset = 0\n  } = options;\n  let results = [...products];\n\n  // Filter by search query\n  if (query) {\n    const searchTerms = query.toLowerCase().split(' ');\n    results = results.filter(product => {\n      const searchableText = `${product.title} ${product.description} ${product.brand} ${product.category}`.toLowerCase();\n      return searchTerms.every(term => searchableText.includes(term));\n    });\n  }\n\n  // Filter by category\n  if (category && category !== 'all') {\n    results = results.filter(product => product.category === category || product.subcategory === category);\n  }\n\n  // Filter by price range\n  if (minPrice !== undefined) {\n    results = results.filter(product => product.price >= minPrice);\n  }\n  if (maxPrice !== undefined) {\n    results = results.filter(product => product.price <= maxPrice);\n  }\n\n  // Filter by rating\n  if (minRating !== undefined) {\n    results = results.filter(product => product.rating >= minRating);\n  }\n\n  // Filter by Prime\n  if (prime) {\n    results = results.filter(product => product.prime);\n  }\n\n  // Sort results\n  switch (sortBy) {\n    case 'price-asc':\n      results.sort((a, b) => a.price - b.price);\n      break;\n    case 'price-desc':\n      results.sort((a, b) => b.price - a.price);\n      break;\n    case 'rating':\n      results.sort((a, b) => b.rating - a.rating);\n      break;\n    case 'reviews':\n      results.sort((a, b) => b.reviewCount - a.reviewCount);\n      break;\n    case 'newest':\n      // In a real app, we'd sort by date\n      results.reverse();\n      break;\n    default:\n      // relevance - keep original order or boost by rating\n      results.sort((a, b) => b.rating * b.reviewCount - a.rating * a.reviewCount);\n  }\n  const total = results.length;\n\n  // Apply pagination\n  if (limit) {\n    results = results.slice(offset, offset + limit);\n  }\n  return {\n    products: results,\n    total,\n    hasMore: offset + results.length < total\n  };\n}\n\n// Get deal products\nexport function getDealProducts(limit = 10) {\n  return products.filter(product => product.deal).slice(0, limit);\n}\n\n// Get featured products (high rating + many reviews)\nexport function getFeaturedProducts(limit = 10) {\n  return [...products].sort((a, b) => b.rating * Math.log10(b.reviewCount) - a.rating * Math.log10(a.reviewCount)).slice(0, limit);\n}\n\n// Get related products\nexport function getRelatedProducts(productId, limit = 6) {\n  const product = getProductById(productId);\n  if (!product) return [];\n  return products.filter(p => p.id !== productId && (p.category === product.category || p.subcategory === product.subcategory)).slice(0, limit);\n}\n\n// Get all categories\nexport function getAllCategories() {\n  return categories;\n}\n\n// Get category by ID\nexport function getCategoryById(categoryId) {\n  return categories.find(cat => cat.id === categoryId);\n}\n\n// Price formatting\nexport function formatPrice(price) {\n  const [whole, fraction = '00'] = price.toFixed(2).split('.');\n  return {\n    whole,\n    fraction,\n    formatted: `$${price.toFixed(2)}`\n  };\n}\n\n// Calculate savings\nexport function calculateSavings(price, originalPrice) {\n  if (!originalPrice || originalPrice <= price) return null;\n  const savings = originalPrice - price;\n  const percentage = Math.round(savings / originalPrice * 100);\n  return {\n    amount: savings,\n    percentage,\n    formatted: `$${savings.toFixed(2)} (${percentage}%)`\n  };\n}","map":{"version":3,"names":["products","categories","getAllProducts","getProductById","id","find","product","getProductsByCategory","categoryId","filter","category","subcategory","searchProducts","query","options","minPrice","maxPrice","minRating","prime","sortBy","limit","offset","results","searchTerms","toLowerCase","split","searchableText","title","description","brand","every","term","includes","undefined","price","rating","sort","a","b","reviewCount","reverse","total","length","slice","hasMore","getDealProducts","deal","getFeaturedProducts","Math","log10","getRelatedProducts","productId","p","getAllCategories","getCategoryById","cat","formatPrice","whole","fraction","toFixed","formatted","calculateSavings","originalPrice","savings","percentage","round","amount"],"sources":["C:/Users/SHOPINVERSE/Desktop/amazn/src/lib/productService.js"],"sourcesContent":["import products from '../data/products.json';\r\nimport categories from '../data/categories.json';\r\n\r\n// Get all products\r\nexport function getAllProducts() {\r\n  return products;\r\n}\r\n\r\n// Get product by ID\r\nexport function getProductById(id) {\r\n  return products.find(product => product.id === id);\r\n}\r\n\r\n// Get products by category\r\nexport function getProductsByCategory(categoryId) {\r\n  if (!categoryId || categoryId === 'all') {\r\n    return products;\r\n  }\r\n  return products.filter(product => \r\n    product.category === categoryId || product.subcategory === categoryId\r\n  );\r\n}\r\n\r\n// Search products\r\nexport function searchProducts(query, options = {}) {\r\n  const {\r\n    category = 'all',\r\n    minPrice,\r\n    maxPrice,\r\n    minRating,\r\n    prime,\r\n    sortBy = 'relevance',\r\n    limit,\r\n    offset = 0\r\n  } = options;\r\n\r\n  let results = [...products];\r\n\r\n  // Filter by search query\r\n  if (query) {\r\n    const searchTerms = query.toLowerCase().split(' ');\r\n    results = results.filter(product => {\r\n      const searchableText = `${product.title} ${product.description} ${product.brand} ${product.category}`.toLowerCase();\r\n      return searchTerms.every(term => searchableText.includes(term));\r\n    });\r\n  }\r\n\r\n  // Filter by category\r\n  if (category && category !== 'all') {\r\n    results = results.filter(product => \r\n      product.category === category || product.subcategory === category\r\n    );\r\n  }\r\n\r\n  // Filter by price range\r\n  if (minPrice !== undefined) {\r\n    results = results.filter(product => product.price >= minPrice);\r\n  }\r\n  if (maxPrice !== undefined) {\r\n    results = results.filter(product => product.price <= maxPrice);\r\n  }\r\n\r\n  // Filter by rating\r\n  if (minRating !== undefined) {\r\n    results = results.filter(product => product.rating >= minRating);\r\n  }\r\n\r\n  // Filter by Prime\r\n  if (prime) {\r\n    results = results.filter(product => product.prime);\r\n  }\r\n\r\n  // Sort results\r\n  switch (sortBy) {\r\n    case 'price-asc':\r\n      results.sort((a, b) => a.price - b.price);\r\n      break;\r\n    case 'price-desc':\r\n      results.sort((a, b) => b.price - a.price);\r\n      break;\r\n    case 'rating':\r\n      results.sort((a, b) => b.rating - a.rating);\r\n      break;\r\n    case 'reviews':\r\n      results.sort((a, b) => b.reviewCount - a.reviewCount);\r\n      break;\r\n    case 'newest':\r\n      // In a real app, we'd sort by date\r\n      results.reverse();\r\n      break;\r\n    default:\r\n      // relevance - keep original order or boost by rating\r\n      results.sort((a, b) => (b.rating * b.reviewCount) - (a.rating * a.reviewCount));\r\n  }\r\n\r\n  const total = results.length;\r\n\r\n  // Apply pagination\r\n  if (limit) {\r\n    results = results.slice(offset, offset + limit);\r\n  }\r\n\r\n  return {\r\n    products: results,\r\n    total,\r\n    hasMore: offset + results.length < total\r\n  };\r\n}\r\n\r\n// Get deal products\r\nexport function getDealProducts(limit = 10) {\r\n  return products\r\n    .filter(product => product.deal)\r\n    .slice(0, limit);\r\n}\r\n\r\n// Get featured products (high rating + many reviews)\r\nexport function getFeaturedProducts(limit = 10) {\r\n  return [...products]\r\n    .sort((a, b) => (b.rating * Math.log10(b.reviewCount)) - (a.rating * Math.log10(a.reviewCount)))\r\n    .slice(0, limit);\r\n}\r\n\r\n// Get related products\r\nexport function getRelatedProducts(productId, limit = 6) {\r\n  const product = getProductById(productId);\r\n  if (!product) return [];\r\n\r\n  return products\r\n    .filter(p => \r\n      p.id !== productId && \r\n      (p.category === product.category || p.subcategory === product.subcategory)\r\n    )\r\n    .slice(0, limit);\r\n}\r\n\r\n// Get all categories\r\nexport function getAllCategories() {\r\n  return categories;\r\n}\r\n\r\n// Get category by ID\r\nexport function getCategoryById(categoryId) {\r\n  return categories.find(cat => cat.id === categoryId);\r\n}\r\n\r\n// Price formatting\r\nexport function formatPrice(price) {\r\n  const [whole, fraction = '00'] = price.toFixed(2).split('.');\r\n  return {\r\n    whole,\r\n    fraction,\r\n    formatted: `$${price.toFixed(2)}`\r\n  };\r\n}\r\n\r\n// Calculate savings\r\nexport function calculateSavings(price, originalPrice) {\r\n  if (!originalPrice || originalPrice <= price) return null;\r\n  \r\n  const savings = originalPrice - price;\r\n  const percentage = Math.round((savings / originalPrice) * 100);\r\n  \r\n  return {\r\n    amount: savings,\r\n    percentage,\r\n    formatted: `$${savings.toFixed(2)} (${percentage}%)`\r\n  };\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}