{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\SHOPINVERSE\\\\Desktop\\\\amazn\\\\src\\\\context\\\\AuthContext.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { createContext, useContext, useState, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AuthContext = /*#__PURE__*/createContext();\nconst AUTH_STORAGE_KEY = 'amazon_clone_auth';\nconst USER_STORAGE_KEY = 'amazon_clone_user';\nexport function AuthProvider({\n  children\n}) {\n  _s();\n  const [user, setUser] = useState(null);\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [loading, setLoading] = useState(true);\n\n  // Load auth state from localStorage on mount\n  useEffect(() => {\n    const savedAuth = localStorage.getItem(AUTH_STORAGE_KEY);\n    const savedUser = localStorage.getItem(USER_STORAGE_KEY);\n    if (savedAuth === 'true' && savedUser) {\n      try {\n        setUser(JSON.parse(savedUser));\n        setIsAuthenticated(true);\n      } catch (e) {\n        console.error('Failed to parse user from localStorage', e);\n      }\n    }\n    setLoading(false);\n  }, []);\n  const signIn = (email, password) => {\n    // Simulate sign in - in a real app this would call an API\n    const mockUser = {\n      id: 'user_' + Date.now(),\n      email,\n      name: email.split('@')[0],\n      addresses: [{\n        id: 'addr_1',\n        name: 'John Doe',\n        street: '123 Main Street',\n        city: 'Seattle',\n        state: 'WA',\n        zip: '98101',\n        country: 'United States',\n        isDefault: true\n      }],\n      paymentMethods: [{\n        id: 'pm_1',\n        type: 'btc',\n        label: 'Bitcoin (BTC)',\n        isDefault: true\n      }]\n    };\n    setUser(mockUser);\n    setIsAuthenticated(true);\n    localStorage.setItem(AUTH_STORAGE_KEY, 'true');\n    localStorage.setItem(USER_STORAGE_KEY, JSON.stringify(mockUser));\n    return {\n      success: true\n    };\n  };\n  const signUp = (name, email, password) => {\n    // Simulate sign up\n    const newUser = {\n      id: 'user_' + Date.now(),\n      email,\n      name,\n      addresses: [],\n      paymentMethods: [{\n        id: 'pm_1',\n        type: 'btc',\n        label: 'Bitcoin (BTC)',\n        isDefault: true\n      }]\n    };\n    setUser(newUser);\n    setIsAuthenticated(true);\n    localStorage.setItem(AUTH_STORAGE_KEY, 'true');\n    localStorage.setItem(USER_STORAGE_KEY, JSON.stringify(newUser));\n    return {\n      success: true\n    };\n  };\n  const signOut = () => {\n    setUser(null);\n    setIsAuthenticated(false);\n    localStorage.removeItem(AUTH_STORAGE_KEY);\n    localStorage.removeItem(USER_STORAGE_KEY);\n  };\n  const updateUser = updates => {\n    const updatedUser = {\n      ...user,\n      ...updates\n    };\n    setUser(updatedUser);\n    localStorage.setItem(USER_STORAGE_KEY, JSON.stringify(updatedUser));\n  };\n  const addAddress = address => {\n    const newAddress = {\n      ...address,\n      id: 'addr_' + Date.now()\n    };\n    const updatedAddresses = [...(user.addresses || []), newAddress];\n    updateUser({\n      addresses: updatedAddresses\n    });\n    return newAddress;\n  };\n  const updateAddress = (addressId, updates) => {\n    const updatedAddresses = user.addresses.map(addr => addr.id === addressId ? {\n      ...addr,\n      ...updates\n    } : addr);\n    updateUser({\n      addresses: updatedAddresses\n    });\n  };\n  const removeAddress = addressId => {\n    const updatedAddresses = user.addresses.filter(addr => addr.id !== addressId);\n    updateUser({\n      addresses: updatedAddresses\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(AuthContext.Provider, {\n    value: {\n      user,\n      isAuthenticated,\n      loading,\n      signIn,\n      signUp,\n      signOut,\n      updateUser,\n      addAddress,\n      updateAddress,\n      removeAddress\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 126,\n    columnNumber: 5\n  }, this);\n}\n_s(AuthProvider, \"MIOyihIJe1jbesOAPrjh1+/HIzc=\");\n_c = AuthProvider;\nexport function useAuth() {\n  _s2();\n  const context = useContext(AuthContext);\n  if (!context) {\n    throw new Error('useAuth must be used within an AuthProvider');\n  }\n  return context;\n}\n_s2(useAuth, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\nvar _c;\n$RefreshReg$(_c, \"AuthProvider\");","map":{"version":3,"names":["React","createContext","useContext","useState","useEffect","jsxDEV","_jsxDEV","AuthContext","AUTH_STORAGE_KEY","USER_STORAGE_KEY","AuthProvider","children","_s","user","setUser","isAuthenticated","setIsAuthenticated","loading","setLoading","savedAuth","localStorage","getItem","savedUser","JSON","parse","e","console","error","signIn","email","password","mockUser","id","Date","now","name","split","addresses","street","city","state","zip","country","isDefault","paymentMethods","type","label","setItem","stringify","success","signUp","newUser","signOut","removeItem","updateUser","updates","updatedUser","addAddress","address","newAddress","updatedAddresses","updateAddress","addressId","map","addr","removeAddress","filter","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","useAuth","_s2","context","Error","$RefreshReg$"],"sources":["C:/Users/SHOPINVERSE/Desktop/amazn/src/context/AuthContext.js"],"sourcesContent":["import React, { createContext, useContext, useState, useEffect } from 'react';\r\n\r\nconst AuthContext = createContext();\r\n\r\nconst AUTH_STORAGE_KEY = 'amazon_clone_auth';\r\nconst USER_STORAGE_KEY = 'amazon_clone_user';\r\n\r\nexport function AuthProvider({ children }) {\r\n  const [user, setUser] = useState(null);\r\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  // Load auth state from localStorage on mount\r\n  useEffect(() => {\r\n    const savedAuth = localStorage.getItem(AUTH_STORAGE_KEY);\r\n    const savedUser = localStorage.getItem(USER_STORAGE_KEY);\r\n    \r\n    if (savedAuth === 'true' && savedUser) {\r\n      try {\r\n        setUser(JSON.parse(savedUser));\r\n        setIsAuthenticated(true);\r\n      } catch (e) {\r\n        console.error('Failed to parse user from localStorage', e);\r\n      }\r\n    }\r\n    setLoading(false);\r\n  }, []);\r\n\r\n  const signIn = (email, password) => {\r\n    // Simulate sign in - in a real app this would call an API\r\n    const mockUser = {\r\n      id: 'user_' + Date.now(),\r\n      email,\r\n      name: email.split('@')[0],\r\n      addresses: [\r\n        {\r\n          id: 'addr_1',\r\n          name: 'John Doe',\r\n          street: '123 Main Street',\r\n          city: 'Seattle',\r\n          state: 'WA',\r\n          zip: '98101',\r\n          country: 'United States',\r\n          isDefault: true\r\n        }\r\n      ],\r\n      paymentMethods: [\r\n        {\r\n          id: 'pm_1',\r\n          type: 'btc',\r\n          label: 'Bitcoin (BTC)',\r\n          isDefault: true\r\n        }\r\n      ]\r\n    };\r\n    \r\n    setUser(mockUser);\r\n    setIsAuthenticated(true);\r\n    localStorage.setItem(AUTH_STORAGE_KEY, 'true');\r\n    localStorage.setItem(USER_STORAGE_KEY, JSON.stringify(mockUser));\r\n    \r\n    return { success: true };\r\n  };\r\n\r\n  const signUp = (name, email, password) => {\r\n    // Simulate sign up\r\n    const newUser = {\r\n      id: 'user_' + Date.now(),\r\n      email,\r\n      name,\r\n      addresses: [],\r\n      paymentMethods: [\r\n        {\r\n          id: 'pm_1',\r\n          type: 'btc',\r\n          label: 'Bitcoin (BTC)',\r\n          isDefault: true\r\n        }\r\n      ]\r\n    };\r\n    \r\n    setUser(newUser);\r\n    setIsAuthenticated(true);\r\n    localStorage.setItem(AUTH_STORAGE_KEY, 'true');\r\n    localStorage.setItem(USER_STORAGE_KEY, JSON.stringify(newUser));\r\n    \r\n    return { success: true };\r\n  };\r\n\r\n  const signOut = () => {\r\n    setUser(null);\r\n    setIsAuthenticated(false);\r\n    localStorage.removeItem(AUTH_STORAGE_KEY);\r\n    localStorage.removeItem(USER_STORAGE_KEY);\r\n  };\r\n\r\n  const updateUser = (updates) => {\r\n    const updatedUser = { ...user, ...updates };\r\n    setUser(updatedUser);\r\n    localStorage.setItem(USER_STORAGE_KEY, JSON.stringify(updatedUser));\r\n  };\r\n\r\n  const addAddress = (address) => {\r\n    const newAddress = {\r\n      ...address,\r\n      id: 'addr_' + Date.now()\r\n    };\r\n    const updatedAddresses = [...(user.addresses || []), newAddress];\r\n    updateUser({ addresses: updatedAddresses });\r\n    return newAddress;\r\n  };\r\n\r\n  const updateAddress = (addressId, updates) => {\r\n    const updatedAddresses = user.addresses.map(addr =>\r\n      addr.id === addressId ? { ...addr, ...updates } : addr\r\n    );\r\n    updateUser({ addresses: updatedAddresses });\r\n  };\r\n\r\n  const removeAddress = (addressId) => {\r\n    const updatedAddresses = user.addresses.filter(addr => addr.id !== addressId);\r\n    updateUser({ addresses: updatedAddresses });\r\n  };\r\n\r\n  return (\r\n    <AuthContext.Provider value={{\r\n      user,\r\n      isAuthenticated,\r\n      loading,\r\n      signIn,\r\n      signUp,\r\n      signOut,\r\n      updateUser,\r\n      addAddress,\r\n      updateAddress,\r\n      removeAddress\r\n    }}>\r\n      {children}\r\n    </AuthContext.Provider>\r\n  );\r\n}\r\n\r\nexport function useAuth() {\r\n  const context = useContext(AuthContext);\r\n  if (!context) {\r\n    throw new Error('useAuth must be used within an AuthProvider');\r\n  }\r\n  return context;\r\n}\r\n"],"mappings":";;;AAAA,OAAOA,KAAK,IAAIC,aAAa,EAAEC,UAAU,EAAEC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE9E,MAAMC,WAAW,gBAAGN,aAAa,CAAC,CAAC;AAEnC,MAAMO,gBAAgB,GAAG,mBAAmB;AAC5C,MAAMC,gBAAgB,GAAG,mBAAmB;AAE5C,OAAO,SAASC,YAAYA,CAAC;EAAEC;AAAS,CAAC,EAAE;EAAAC,EAAA;EACzC,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGX,QAAQ,CAAC,IAAI,CAAC;EACtC,MAAM,CAACY,eAAe,EAAEC,kBAAkB,CAAC,GAAGb,QAAQ,CAAC,KAAK,CAAC;EAC7D,MAAM,CAACc,OAAO,EAAEC,UAAU,CAAC,GAAGf,QAAQ,CAAC,IAAI,CAAC;;EAE5C;EACAC,SAAS,CAAC,MAAM;IACd,MAAMe,SAAS,GAAGC,YAAY,CAACC,OAAO,CAACb,gBAAgB,CAAC;IACxD,MAAMc,SAAS,GAAGF,YAAY,CAACC,OAAO,CAACZ,gBAAgB,CAAC;IAExD,IAAIU,SAAS,KAAK,MAAM,IAAIG,SAAS,EAAE;MACrC,IAAI;QACFR,OAAO,CAACS,IAAI,CAACC,KAAK,CAACF,SAAS,CAAC,CAAC;QAC9BN,kBAAkB,CAAC,IAAI,CAAC;MAC1B,CAAC,CAAC,OAAOS,CAAC,EAAE;QACVC,OAAO,CAACC,KAAK,CAAC,wCAAwC,EAAEF,CAAC,CAAC;MAC5D;IACF;IACAP,UAAU,CAAC,KAAK,CAAC;EACnB,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMU,MAAM,GAAGA,CAACC,KAAK,EAAEC,QAAQ,KAAK;IAClC;IACA,MAAMC,QAAQ,GAAG;MACfC,EAAE,EAAE,OAAO,GAAGC,IAAI,CAACC,GAAG,CAAC,CAAC;MACxBL,KAAK;MACLM,IAAI,EAAEN,KAAK,CAACO,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;MACzBC,SAAS,EAAE,CACT;QACEL,EAAE,EAAE,QAAQ;QACZG,IAAI,EAAE,UAAU;QAChBG,MAAM,EAAE,iBAAiB;QACzBC,IAAI,EAAE,SAAS;QACfC,KAAK,EAAE,IAAI;QACXC,GAAG,EAAE,OAAO;QACZC,OAAO,EAAE,eAAe;QACxBC,SAAS,EAAE;MACb,CAAC,CACF;MACDC,cAAc,EAAE,CACd;QACEZ,EAAE,EAAE,MAAM;QACVa,IAAI,EAAE,KAAK;QACXC,KAAK,EAAE,eAAe;QACtBH,SAAS,EAAE;MACb,CAAC;IAEL,CAAC;IAED7B,OAAO,CAACiB,QAAQ,CAAC;IACjBf,kBAAkB,CAAC,IAAI,CAAC;IACxBI,YAAY,CAAC2B,OAAO,CAACvC,gBAAgB,EAAE,MAAM,CAAC;IAC9CY,YAAY,CAAC2B,OAAO,CAACtC,gBAAgB,EAAEc,IAAI,CAACyB,SAAS,CAACjB,QAAQ,CAAC,CAAC;IAEhE,OAAO;MAAEkB,OAAO,EAAE;IAAK,CAAC;EAC1B,CAAC;EAED,MAAMC,MAAM,GAAGA,CAACf,IAAI,EAAEN,KAAK,EAAEC,QAAQ,KAAK;IACxC;IACA,MAAMqB,OAAO,GAAG;MACdnB,EAAE,EAAE,OAAO,GAAGC,IAAI,CAACC,GAAG,CAAC,CAAC;MACxBL,KAAK;MACLM,IAAI;MACJE,SAAS,EAAE,EAAE;MACbO,cAAc,EAAE,CACd;QACEZ,EAAE,EAAE,MAAM;QACVa,IAAI,EAAE,KAAK;QACXC,KAAK,EAAE,eAAe;QACtBH,SAAS,EAAE;MACb,CAAC;IAEL,CAAC;IAED7B,OAAO,CAACqC,OAAO,CAAC;IAChBnC,kBAAkB,CAAC,IAAI,CAAC;IACxBI,YAAY,CAAC2B,OAAO,CAACvC,gBAAgB,EAAE,MAAM,CAAC;IAC9CY,YAAY,CAAC2B,OAAO,CAACtC,gBAAgB,EAAEc,IAAI,CAACyB,SAAS,CAACG,OAAO,CAAC,CAAC;IAE/D,OAAO;MAAEF,OAAO,EAAE;IAAK,CAAC;EAC1B,CAAC;EAED,MAAMG,OAAO,GAAGA,CAAA,KAAM;IACpBtC,OAAO,CAAC,IAAI,CAAC;IACbE,kBAAkB,CAAC,KAAK,CAAC;IACzBI,YAAY,CAACiC,UAAU,CAAC7C,gBAAgB,CAAC;IACzCY,YAAY,CAACiC,UAAU,CAAC5C,gBAAgB,CAAC;EAC3C,CAAC;EAED,MAAM6C,UAAU,GAAIC,OAAO,IAAK;IAC9B,MAAMC,WAAW,GAAG;MAAE,GAAG3C,IAAI;MAAE,GAAG0C;IAAQ,CAAC;IAC3CzC,OAAO,CAAC0C,WAAW,CAAC;IACpBpC,YAAY,CAAC2B,OAAO,CAACtC,gBAAgB,EAAEc,IAAI,CAACyB,SAAS,CAACQ,WAAW,CAAC,CAAC;EACrE,CAAC;EAED,MAAMC,UAAU,GAAIC,OAAO,IAAK;IAC9B,MAAMC,UAAU,GAAG;MACjB,GAAGD,OAAO;MACV1B,EAAE,EAAE,OAAO,GAAGC,IAAI,CAACC,GAAG,CAAC;IACzB,CAAC;IACD,MAAM0B,gBAAgB,GAAG,CAAC,IAAI/C,IAAI,CAACwB,SAAS,IAAI,EAAE,CAAC,EAAEsB,UAAU,CAAC;IAChEL,UAAU,CAAC;MAAEjB,SAAS,EAAEuB;IAAiB,CAAC,CAAC;IAC3C,OAAOD,UAAU;EACnB,CAAC;EAED,MAAME,aAAa,GAAGA,CAACC,SAAS,EAAEP,OAAO,KAAK;IAC5C,MAAMK,gBAAgB,GAAG/C,IAAI,CAACwB,SAAS,CAAC0B,GAAG,CAACC,IAAI,IAC9CA,IAAI,CAAChC,EAAE,KAAK8B,SAAS,GAAG;MAAE,GAAGE,IAAI;MAAE,GAAGT;IAAQ,CAAC,GAAGS,IACpD,CAAC;IACDV,UAAU,CAAC;MAAEjB,SAAS,EAAEuB;IAAiB,CAAC,CAAC;EAC7C,CAAC;EAED,MAAMK,aAAa,GAAIH,SAAS,IAAK;IACnC,MAAMF,gBAAgB,GAAG/C,IAAI,CAACwB,SAAS,CAAC6B,MAAM,CAACF,IAAI,IAAIA,IAAI,CAAChC,EAAE,KAAK8B,SAAS,CAAC;IAC7ER,UAAU,CAAC;MAAEjB,SAAS,EAAEuB;IAAiB,CAAC,CAAC;EAC7C,CAAC;EAED,oBACEtD,OAAA,CAACC,WAAW,CAAC4D,QAAQ;IAACC,KAAK,EAAE;MAC3BvD,IAAI;MACJE,eAAe;MACfE,OAAO;MACPW,MAAM;MACNsB,MAAM;MACNE,OAAO;MACPE,UAAU;MACVG,UAAU;MACVI,aAAa;MACbI;IACF,CAAE;IAAAtD,QAAA,EACCA;EAAQ;IAAA0D,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACW,CAAC;AAE3B;AAAC5D,EAAA,CArIeF,YAAY;AAAA+D,EAAA,GAAZ/D,YAAY;AAuI5B,OAAO,SAASgE,OAAOA,CAAA,EAAG;EAAAC,GAAA;EACxB,MAAMC,OAAO,GAAG1E,UAAU,CAACK,WAAW,CAAC;EACvC,IAAI,CAACqE,OAAO,EAAE;IACZ,MAAM,IAAIC,KAAK,CAAC,6CAA6C,CAAC;EAChE;EACA,OAAOD,OAAO;AAChB;AAACD,GAAA,CANeD,OAAO;AAAA,IAAAD,EAAA;AAAAK,YAAA,CAAAL,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}