{"ast":null,"code":"const ORDERS_STORAGE_KEY = 'amazon_clone_orders';\nconst PAYMENT_STORAGE_KEY = 'amazon_clone_payment';\n\n// BTC Wallet Address (dummy)\nexport const BTC_WALLET_ADDRESS = '1A1zP1eP5QGefi2DMPTfTL5SLmv7DivfNa';\n\n// Get all orders from localStorage\nexport function getOrders() {\n  const stored = localStorage.getItem(ORDERS_STORAGE_KEY);\n  if (stored) {\n    try {\n      return JSON.parse(stored);\n    } catch (e) {\n      console.error('Failed to parse orders', e);\n    }\n  }\n  return [];\n}\n\n// Get order by ID\nexport function getOrderById(orderId) {\n  const orders = getOrders();\n  return orders.find(order => order.id === orderId);\n}\n\n// Create new order\nexport function createOrder(orderData) {\n  const orders = getOrders();\n  const newOrder = {\n    id: 'order_' + Date.now(),\n    ...orderData,\n    status: 'pending_payment',\n    tracking: null,\n    createdAt: new Date().toISOString(),\n    updatedAt: new Date().toISOString(),\n    statusHistory: [{\n      status: 'pending_payment',\n      timestamp: new Date().toISOString(),\n      message: 'Order created, awaiting payment'\n    }]\n  };\n  orders.unshift(newOrder);\n  localStorage.setItem(ORDERS_STORAGE_KEY, JSON.stringify(orders));\n  return newOrder;\n}\n\n// Update order status\nexport function updateOrderStatus(orderId, status, message = '') {\n  const orders = getOrders();\n  const orderIndex = orders.findIndex(o => o.id === orderId);\n  if (orderIndex === -1) return null;\n  orders[orderIndex].status = status;\n  orders[orderIndex].updatedAt = new Date().toISOString();\n  orders[orderIndex].statusHistory.push({\n    status,\n    timestamp: new Date().toISOString(),\n    message\n  });\n\n  // Simulate tracking for confirmed orders\n  if (status === 'confirmed') {\n    orders[orderIndex].tracking = {\n      carrier: 'Amazon Logistics',\n      trackingNumber: 'TRK' + Math.random().toString(36).substr(2, 9).toUpperCase(),\n      estimatedDelivery: new Date(Date.now() + 3 * 24 * 60 * 60 * 1000).toISOString()\n    };\n  }\n  localStorage.setItem(ORDERS_STORAGE_KEY, JSON.stringify(orders));\n  return orders[orderIndex];\n}\n\n// Get payment state\nexport function getPaymentState(orderId) {\n  const stored = localStorage.getItem(PAYMENT_STORAGE_KEY);\n  if (stored) {\n    try {\n      const payments = JSON.parse(stored);\n      return payments[orderId] || null;\n    } catch (e) {\n      console.error('Failed to parse payment state', e);\n    }\n  }\n  return null;\n}\n\n// Save payment state\nexport function savePaymentState(orderId, paymentData) {\n  let payments = {};\n  const stored = localStorage.getItem(PAYMENT_STORAGE_KEY);\n  if (stored) {\n    try {\n      payments = JSON.parse(stored);\n    } catch (e) {\n      console.error('Failed to parse existing payments', e);\n    }\n  }\n  payments[orderId] = {\n    ...paymentData,\n    updatedAt: new Date().toISOString()\n  };\n  localStorage.setItem(PAYMENT_STORAGE_KEY, JSON.stringify(payments));\n  return payments[orderId];\n}\n\n// Record wallet address copy\nexport function recordWalletCopy(orderId) {\n  const currentState = getPaymentState(orderId) || {};\n  return savePaymentState(orderId, {\n    ...currentState,\n    walletAddress: BTC_WALLET_ADDRESS,\n    copiedAt: new Date().toISOString()\n  });\n}\n\n// Record payment confirmation (\"I have paid\" button clicked)\nexport function recordPaymentConfirmation(orderId, notes = '') {\n  const currentState = getPaymentState(orderId) || {};\n  const paymentState = savePaymentState(orderId, {\n    ...currentState,\n    paidAt: new Date().toISOString(),\n    paidStatus: 'pending_verification',\n    paymentNotes: notes\n  });\n\n  // Update order status\n  updateOrderStatus(orderId, 'payment_submitted', 'Payment confirmation received, pending verification');\n  return paymentState;\n}\n\n// Get order status label\nexport function getOrderStatusLabel(status) {\n  const labels = {\n    'pending_payment': 'Awaiting Payment',\n    'payment_submitted': 'Payment Submitted',\n    'confirmed': 'Order Confirmed',\n    'processing': 'Processing',\n    'shipped': 'Shipped',\n    'out_for_delivery': 'Out for Delivery',\n    'delivered': 'Delivered',\n    'cancelled': 'Cancelled',\n    'refunded': 'Refunded'\n  };\n  return labels[status] || status;\n}\n\n// Get order status color\nexport function getOrderStatusColor(status) {\n  const colors = {\n    'pending_payment': '#b12704',\n    'payment_submitted': '#f0c14b',\n    'confirmed': '#067d62',\n    'processing': '#007185',\n    'shipped': '#007185',\n    'out_for_delivery': '#067d62',\n    'delivered': '#067d62',\n    'cancelled': '#565959',\n    'refunded': '#565959'\n  };\n  return colors[status] || '#0f1111';\n}","map":{"version":3,"names":["ORDERS_STORAGE_KEY","PAYMENT_STORAGE_KEY","BTC_WALLET_ADDRESS","getOrders","stored","localStorage","getItem","JSON","parse","e","console","error","getOrderById","orderId","orders","find","order","id","createOrder","orderData","newOrder","Date","now","status","tracking","createdAt","toISOString","updatedAt","statusHistory","timestamp","message","unshift","setItem","stringify","updateOrderStatus","orderIndex","findIndex","o","push","carrier","trackingNumber","Math","random","toString","substr","toUpperCase","estimatedDelivery","getPaymentState","payments","savePaymentState","paymentData","recordWalletCopy","currentState","walletAddress","copiedAt","recordPaymentConfirmation","notes","paymentState","paidAt","paidStatus","paymentNotes","getOrderStatusLabel","labels","getOrderStatusColor","colors"],"sources":["C:/Users/SHOPINVERSE/Desktop/amazn/src/lib/orderService.js"],"sourcesContent":["const ORDERS_STORAGE_KEY = 'amazon_clone_orders';\r\nconst PAYMENT_STORAGE_KEY = 'amazon_clone_payment';\r\n\r\n// BTC Wallet Address (dummy)\r\nexport const BTC_WALLET_ADDRESS = '1A1zP1eP5QGefi2DMPTfTL5SLmv7DivfNa';\r\n\r\n// Get all orders from localStorage\r\nexport function getOrders() {\r\n  const stored = localStorage.getItem(ORDERS_STORAGE_KEY);\r\n  if (stored) {\r\n    try {\r\n      return JSON.parse(stored);\r\n    } catch (e) {\r\n      console.error('Failed to parse orders', e);\r\n    }\r\n  }\r\n  return [];\r\n}\r\n\r\n// Get order by ID\r\nexport function getOrderById(orderId) {\r\n  const orders = getOrders();\r\n  return orders.find(order => order.id === orderId);\r\n}\r\n\r\n// Create new order\r\nexport function createOrder(orderData) {\r\n  const orders = getOrders();\r\n  \r\n  const newOrder = {\r\n    id: 'order_' + Date.now(),\r\n    ...orderData,\r\n    status: 'pending_payment',\r\n    tracking: null,\r\n    createdAt: new Date().toISOString(),\r\n    updatedAt: new Date().toISOString(),\r\n    statusHistory: [\r\n      {\r\n        status: 'pending_payment',\r\n        timestamp: new Date().toISOString(),\r\n        message: 'Order created, awaiting payment'\r\n      }\r\n    ]\r\n  };\r\n  \r\n  orders.unshift(newOrder);\r\n  localStorage.setItem(ORDERS_STORAGE_KEY, JSON.stringify(orders));\r\n  \r\n  return newOrder;\r\n}\r\n\r\n// Update order status\r\nexport function updateOrderStatus(orderId, status, message = '') {\r\n  const orders = getOrders();\r\n  const orderIndex = orders.findIndex(o => o.id === orderId);\r\n  \r\n  if (orderIndex === -1) return null;\r\n  \r\n  orders[orderIndex].status = status;\r\n  orders[orderIndex].updatedAt = new Date().toISOString();\r\n  orders[orderIndex].statusHistory.push({\r\n    status,\r\n    timestamp: new Date().toISOString(),\r\n    message\r\n  });\r\n  \r\n  // Simulate tracking for confirmed orders\r\n  if (status === 'confirmed') {\r\n    orders[orderIndex].tracking = {\r\n      carrier: 'Amazon Logistics',\r\n      trackingNumber: 'TRK' + Math.random().toString(36).substr(2, 9).toUpperCase(),\r\n      estimatedDelivery: new Date(Date.now() + 3 * 24 * 60 * 60 * 1000).toISOString()\r\n    };\r\n  }\r\n  \r\n  localStorage.setItem(ORDERS_STORAGE_KEY, JSON.stringify(orders));\r\n  \r\n  return orders[orderIndex];\r\n}\r\n\r\n// Get payment state\r\nexport function getPaymentState(orderId) {\r\n  const stored = localStorage.getItem(PAYMENT_STORAGE_KEY);\r\n  if (stored) {\r\n    try {\r\n      const payments = JSON.parse(stored);\r\n      return payments[orderId] || null;\r\n    } catch (e) {\r\n      console.error('Failed to parse payment state', e);\r\n    }\r\n  }\r\n  return null;\r\n}\r\n\r\n// Save payment state\r\nexport function savePaymentState(orderId, paymentData) {\r\n  let payments = {};\r\n  const stored = localStorage.getItem(PAYMENT_STORAGE_KEY);\r\n  \r\n  if (stored) {\r\n    try {\r\n      payments = JSON.parse(stored);\r\n    } catch (e) {\r\n      console.error('Failed to parse existing payments', e);\r\n    }\r\n  }\r\n  \r\n  payments[orderId] = {\r\n    ...paymentData,\r\n    updatedAt: new Date().toISOString()\r\n  };\r\n  \r\n  localStorage.setItem(PAYMENT_STORAGE_KEY, JSON.stringify(payments));\r\n  \r\n  return payments[orderId];\r\n}\r\n\r\n// Record wallet address copy\r\nexport function recordWalletCopy(orderId) {\r\n  const currentState = getPaymentState(orderId) || {};\r\n  return savePaymentState(orderId, {\r\n    ...currentState,\r\n    walletAddress: BTC_WALLET_ADDRESS,\r\n    copiedAt: new Date().toISOString()\r\n  });\r\n}\r\n\r\n// Record payment confirmation (\"I have paid\" button clicked)\r\nexport function recordPaymentConfirmation(orderId, notes = '') {\r\n  const currentState = getPaymentState(orderId) || {};\r\n  const paymentState = savePaymentState(orderId, {\r\n    ...currentState,\r\n    paidAt: new Date().toISOString(),\r\n    paidStatus: 'pending_verification',\r\n    paymentNotes: notes\r\n  });\r\n  \r\n  // Update order status\r\n  updateOrderStatus(orderId, 'payment_submitted', 'Payment confirmation received, pending verification');\r\n  \r\n  return paymentState;\r\n}\r\n\r\n// Get order status label\r\nexport function getOrderStatusLabel(status) {\r\n  const labels = {\r\n    'pending_payment': 'Awaiting Payment',\r\n    'payment_submitted': 'Payment Submitted',\r\n    'confirmed': 'Order Confirmed',\r\n    'processing': 'Processing',\r\n    'shipped': 'Shipped',\r\n    'out_for_delivery': 'Out for Delivery',\r\n    'delivered': 'Delivered',\r\n    'cancelled': 'Cancelled',\r\n    'refunded': 'Refunded'\r\n  };\r\n  return labels[status] || status;\r\n}\r\n\r\n// Get order status color\r\nexport function getOrderStatusColor(status) {\r\n  const colors = {\r\n    'pending_payment': '#b12704',\r\n    'payment_submitted': '#f0c14b',\r\n    'confirmed': '#067d62',\r\n    'processing': '#007185',\r\n    'shipped': '#007185',\r\n    'out_for_delivery': '#067d62',\r\n    'delivered': '#067d62',\r\n    'cancelled': '#565959',\r\n    'refunded': '#565959'\r\n  };\r\n  return colors[status] || '#0f1111';\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}